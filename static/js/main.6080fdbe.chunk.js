(this["webpackJsonpminesweeper-react"]=this["webpackJsonpminesweeper-react"]||[]).push([[0],{23:function(e,a,t){e.exports=t.p+"static/media/minesweeper_bomb.43e66710.png"},35:function(e,a,t){e.exports=t(47)},40:function(e,a,t){},45:function(e,a,t){},47:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(7),i=t.n(l),c=(t(40),t(6)),o=t(21),m=t(22),u=t(31),s=t(33),d=t(23),h=t.n(d),g=function(e){var a=e.row,t=e.col,n=e.isFlagged,l=e.isMine,i=e.isRevealed,o=e.handleTile,m=e.mineCount,u=e.setOffMine,s=e.gameRows,d={border:"1px solid darkgray"},g=Object(c.a)({},d,{backgroundColor:"lightgray"}),f=Object(c.a)({},d,{backgroundColor:"red"});return r.a.createElement("td",{style:function(){var e,a={width:e=s>14?"30px":"45px",height:e};return u?Object(c.a)({},f,{},a):i?Object(c.a)({},g,{},a):Object(c.a)({},d,{},a)}(),backgroundColor:u?"red":"",className:i?"tile-tile-revealed":"tile-unrevealed",onClick:function(){return function(e,a){o(e,a)}(a,t)}},n?r.a.createElement("img",{src:"flag.png",alt:"flag",className:"flag-img"}):null,l&&i?r.a.createElement("img",{src:h.a,alt:"bomb",className:"mine-img"}):null,i&&m?m:null)},f=function(e){var a=e||{board:[]},t=a.board,n=a.handleTile;a.mineCount;return r.a.createElement("section",null,!t.length&&r.a.createElement("h5",null,"Pick a Game"),r.a.createElement("table",{className:"board-container"},r.a.createElement("tbody",null,t.length>0&&t.map((function(e,a){return r.a.createElement("tr",{key:e+a},e.map((function(e,l){return r.a.createElement(g,Object.assign({key:"".concat(a,"-").concat(l)},e,{handleTile:n,gameRows:t.length}))})))})))))},E=t(10),b=t(12),v=t(52),p=t(25),w=t(54);var O=function(e){var a=e.raiseNewGame,t=e.handleHide,l=Object(n.useState)("easy"),i=Object(E.a)(l,2),o=i[0],m=i[1],u=Object(n.useState)({easy:!1,intermediate:!1,expert:!1,custom:!1}),s=Object(E.a)(u,2),d=s[0],h=s[1],g=Object(n.useState)({customW:9,customH:9,customBombs:9}),f=Object(E.a)(g,2),O=f[0],y=f[1],C=function(e){var a=e.target.id,t=Number(e.target.value);y(Object(c.a)({},O,Object(b.a)({},a,t)))};return r.a.createElement(v.a,{onChange:function(e){var a=e.target.id,t=Object.keys(d);if(!t.includes(a))return null;var n={};t.forEach((function(e){return n[e]=!1})),n[a]=!0,m(a),h(Object(c.a)({},n))},className:"game-menu"},r.a.createElement(v.a.Label,{className:"menu-label"},"Select Game Size: "),r.a.createElement(v.a.Row,null,r.a.createElement(p.a,null),r.a.createElement(p.a,null,"Height"),r.a.createElement(p.a,null,"Width"),r.a.createElement(p.a,null,"Mines")),r.a.createElement(v.a.Row,null,r.a.createElement(p.a,null,r.a.createElement(v.a.Check,{type:"radio",id:"easy",label:"Easy",checked:d.easy})),r.a.createElement(p.a,null,"9"),r.a.createElement(p.a,null,"9"),r.a.createElement(p.a,null,"10")),r.a.createElement(v.a.Row,null,r.a.createElement(p.a,null,r.a.createElement(v.a.Check,{type:"radio",id:"intermediate",label:"Intermediate",checked:d.intermediate})),r.a.createElement(p.a,null,"16"),r.a.createElement(p.a,null,"16"),r.a.createElement(p.a,null,"40")),r.a.createElement(v.a.Row,null,r.a.createElement(p.a,null,r.a.createElement(v.a.Check,{type:"radio",id:"expert",label:"Expert",checked:d.expert})),r.a.createElement(p.a,null,"16"),r.a.createElement(p.a,null,"30"),r.a.createElement(p.a,null,"99")),r.a.createElement(v.a.Row,null,r.a.createElement(p.a,null,r.a.createElement(v.a.Check,{type:"radio",id:"custom",label:"Custom",checked:d.custom})),r.a.createElement(p.a,null,r.a.createElement(v.a.Control,{type:"number",id:"customH",min:9,max:50,value:O.customH,onChange:C})),r.a.createElement(p.a,null,r.a.createElement(v.a.Control,{type:"number",id:"customW",min:9,max:50,value:O.customW,onChange:C})),r.a.createElement(p.a,null,r.a.createElement(v.a.Control,{type:"number",id:"customBombs",min:9,max:50,value:O.customBombs,onChange:C}))),r.a.createElement("div",{className:"new-game-button"},r.a.createElement(w.a,{variant:"secondary",onClick:function(e){e.preventDefault();var n={};n="custom"!==o?Object(c.a)({},{easy:{width:9,height:9,mines:10},intermediate:{width:16,height:16,mines:40},expert:{width:30,height:16,mines:99}}[o]):{width:O.customW,height:O.customH,mines:O.customBombs},a(n),t()}},"New Game")))},y=t(53),C=t(55);var j=function(e){var a=Object(n.useState)(!1),t=Object(E.a)(a,2),l=t[0],i=t[1],c=Object(n.useRef)(null),o=function(){i(!l)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{variant:"info",ref:c,onClick:function(){return i(!l)}},"Game Menu"),r.a.createElement(y.a,{target:c.current,show:l,trigger:"click",key:"bottom",placement:"bottom",rootClose:!0,onHide:o},r.a.createElement(C.a,null,r.a.createElement(C.a.Content,null,r.a.createElement(O,{handleHide:o,raiseNewGame:e.handleNewGame})))))},k=function(e){var a=e.gameStarted,t=e.gameOver,n=e.gameWon;return r.a.createElement("section",null,a&&!t&&r.a.createElement("h5",null,"Happy Mining!"),n&&r.a.createElement("h5",null,"You Win!!"),t&&!n&&r.a.createElement("h5",null,"Game Over"))},M=function(e){Object(s.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).initBoard=function(e,a){for(var t=[],n=0;n<a;n++){t.push([]);for(var r=0;r<e;r++)t[n][r]={row:n,col:r,isMine:!1,isRevealed:!1,isFlagged:!1,mineCount:null,setOffMine:!1}}return t},n.plantMines=function(e,a,t,n){for(var r=0;r<n;){var l=Math.floor(Math.random()*t),i=Math.floor(Math.random()*a);!1===e[l][i].isMine&&(e[l][i].isMine=!0,r++)}},n.handleTile=function(e,a){if(!n.state.gameOver){var t=Object(c.a)({},n.state.board[e][a]);if(t.isMine)return n.state.board[e][a].setOffMine=!0,n.revealBombs(n.state.board),void n.setState({gameOver:!0});if(!t.isMine){var r=n.state.board.map((function(e){return e.map((function(e){return e}))}));n.revealEmpties(r,e,a),console.log("the new board is ",r),n.setState({board:r});var l=n.getRevealedCount(r);n.state.width*n.state.height-n.state.mines===l&&n.setState({gameOver:!0,gameWon:!0})}}},n.getNeighbors=function(e,a,t){for(var r=[],l=a-1;l<=a+1;l++)if(!(l<0||l>=n.state.height))for(var i=t-1;i<=t+1;i++)if(!(i<0||i>=n.state.width)){var c=e[l][i];c&&r.push(c)}return r},n.revealEmpties=function(e,a,t){var r=e[a][t];if(!r.isMine&&!r.isRevealed){r.isRevealed=!0,r.isFlagged=!1;var l=n.getNeighbors(e,a,t),i=l.filter((function(e){return e.isMine})).length;0===i?l.forEach((function(a){return n.revealEmpties(e,a.row,a.col)})):r.mineCount=i}},n.revealBombs=function(e){e.forEach((function(e){e.forEach((function(e){e.isMine&&(e.isRevealed=!0)}))}))},n.getRevealedCount=function(e){var a=0;return e.forEach((function(e){e.forEach((function(e){e.isRevealed&&a++}))})),a},n.handleNewGame=function(e){var a=n.initBoard(e.width,e.height);n.plantMines(a,e.width,e.height,e.mines),n.setState(Object(c.a)({},e,{board:a,gameOver:!1,gameStarted:!0}))},n.state={board:[],width:9,height:9,mines:9,gameStarted:!1,gameOver:!1,gameWon:!1,showOverlay:!1},n}return Object(m.a)(t,[{key:"render",value:function(){var e=this.state,a=e.board,t=e.gameStarted,n=e.gameOver,l=e.gameWon;return r.a.createElement("section",null,r.a.createElement(j,{handleNewGame:this.handleNewGame}),r.a.createElement(k,{gameStarted:t,gameWon:l,gameOver:n}),r.a.createElement(f,{board:a,handleTile:this.handleTile}))}}]),t}(n.Component);t(45),t(46);var N=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h5",{style:{marginTop:"2rem"}},"MineSweeper"),r.a.createElement(M,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.6080fdbe.chunk.js.map