(this["webpackJsonpminesweeper-react"]=this["webpackJsonpminesweeper-react"]||[]).push([[0],{34:function(e,a,t){e.exports=t(46)},39:function(e,a,t){},44:function(e,a,t){},46:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(7),c=t.n(l),i=(t(39),t(6)),o=t(21),m=t(22),u=t(30),s=t(32),d=function(e){var a=e.row,t=e.col,n=e.isFlagged,l=e.isMine,c=e.isRevealed,o=e.handleTile,m=e.mineCount,u=e.setOffMine,s=e.gameRows,d={border:"1px solid darkgray"},h=Object(i.a)({},d,{backgroundColor:"lightgray"}),g=Object(i.a)({},d,{backgroundColor:"red"});return r.a.createElement("td",{style:function(){var e,a={width:e=s>14?"30px":"45px",height:e};return u?Object(i.a)({},g,{},a):c?Object(i.a)({},h,{},a):Object(i.a)({},d,{},a)}(),backgroundColor:u?"red":"",className:c?"tile-tile-revealed":"tile-unrevealed",onClick:function(){return function(e,a){o(e,a)}(a,t)}},n?r.a.createElement("img",{src:"flag.png",alt:"flag",className:"flag-img"}):null,l&&c?r.a.createElement("img",{src:"minesweeper_bomb.png",alt:"bomb",className:"mine-img"}):null,c&&m?m:null)},h=function(e){var a=e||{board:[]},t=a.board,n=a.handleTile;a.mineCount;return r.a.createElement("section",null,r.a.createElement("table",{className:"board-container"},r.a.createElement("tbody",null,!t.length&&r.a.createElement("h5",null,"Pick a Game"),t.length>0&&t.map((function(e,a){return r.a.createElement("tr",{key:e+a},e.map((function(e,l){return r.a.createElement(d,Object.assign({key:"".concat(a,"-").concat(l)},e,{handleTile:n,gameRows:t.length}))})))})))))},g=t(10),f=t(12),E=t(51),b=t(24),v=t(53);var p=function(e){var a=e.raiseNewGame,t=e.handleHide,l=Object(n.useState)("easy"),c=Object(g.a)(l,2),o=c[0],m=c[1],u=Object(n.useState)({easy:!1,intermediate:!1,expert:!1,custom:!1}),s=Object(g.a)(u,2),d=s[0],h=s[1],p=Object(n.useState)({customW:9,customH:9,customBombs:9}),w=Object(g.a)(p,2),O=w[0],y=w[1],C=function(e){var a=e.target.id,t=Number(e.target.value);y(Object(i.a)({},O,Object(f.a)({},a,t)))};return r.a.createElement(E.a,{onChange:function(e){var a=e.target.id,t=Object.keys(d);if(!t.includes(a))return null;var n={};t.forEach((function(e){return n[e]=!1})),n[a]=!0,m(a),h(Object(i.a)({},n))},className:"game-menu"},r.a.createElement(E.a.Label,{className:"menu-label"},"Select Game Size: "),r.a.createElement(E.a.Row,null,r.a.createElement(b.a,null),r.a.createElement(b.a,null,"Height"),r.a.createElement(b.a,null,"Width"),r.a.createElement(b.a,null,"Mines")),r.a.createElement(E.a.Row,null,r.a.createElement(b.a,null,r.a.createElement(E.a.Check,{type:"radio",id:"easy",label:"Easy",checked:d.easy})),r.a.createElement(b.a,null,"9"),r.a.createElement(b.a,null,"9"),r.a.createElement(b.a,null,"10")),r.a.createElement(E.a.Row,null,r.a.createElement(b.a,null,r.a.createElement(E.a.Check,{type:"radio",id:"intermediate",label:"Intermediate",checked:d.intermediate})),r.a.createElement(b.a,null,"16"),r.a.createElement(b.a,null,"16"),r.a.createElement(b.a,null,"40")),r.a.createElement(E.a.Row,null,r.a.createElement(b.a,null,r.a.createElement(E.a.Check,{type:"radio",id:"expert",label:"Expert",checked:d.expert})),r.a.createElement(b.a,null,"16"),r.a.createElement(b.a,null,"30"),r.a.createElement(b.a,null,"99")),r.a.createElement(E.a.Row,null,r.a.createElement(b.a,null,r.a.createElement(E.a.Check,{type:"radio",id:"custom",label:"Custom",checked:d.custom})),r.a.createElement(b.a,null,r.a.createElement(E.a.Control,{type:"number",id:"customH",min:9,max:50,value:O.customH,onChange:C})),r.a.createElement(b.a,null,r.a.createElement(E.a.Control,{type:"number",id:"customW",min:9,max:50,value:O.customW,onChange:C})),r.a.createElement(b.a,null,r.a.createElement(E.a.Control,{type:"number",id:"customBombs",min:9,max:50,value:O.customBombs,onChange:C}))),r.a.createElement("div",{className:"new-game-button"},r.a.createElement(v.a,{variant:"secondary",onClick:function(e){e.preventDefault();var n={};n="custom"!==o?Object(i.a)({},{easy:{width:9,height:9,mines:10},intermediate:{width:16,height:16,mines:40},expert:{width:30,height:16,mines:99}}[o]):{width:O.customW,height:O.customH,mines:O.customBombs},a(n),t()}},"New Game")))},w=t(52),O=t(54);var y=function(e){var a=Object(n.useState)(!1),t=Object(g.a)(a,2),l=t[0],c=t[1],i=Object(n.useRef)(null),o=function(){c(!l)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{variant:"info",ref:i,onClick:function(){return c(!l)}},"Game Menu"),r.a.createElement(w.a,{target:i.current,show:l,trigger:"click",key:"bottom",placement:"bottom",rootClose:!0,onHide:o},r.a.createElement(O.a,null,r.a.createElement(O.a.Content,null,r.a.createElement(p,{handleHide:o,raiseNewGame:e.handleNewGame})))))},C=function(e){var a=e.gameStarted,t=e.gameOver,n=e.gameWon;return r.a.createElement("section",null,a&&!t&&r.a.createElement("h5",null,"Happy Mining!"),n&&r.a.createElement("h5",null,"You Win!!"),t&&!n&&r.a.createElement("h5",null,"Game Over"))},j=function(e){Object(s.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).initBoard=function(e,a){for(var t=[],n=0;n<a;n++){t.push([]);for(var r=0;r<e;r++)t[n][r]={row:n,col:r,isMine:!1,isRevealed:!1,isFlagged:!1,mineCount:null,setOffMine:!1}}return t},n.plantMines=function(e,a,t,n){for(var r=0;r<n;){var l=Math.floor(Math.random()*t),c=Math.floor(Math.random()*a);!1===e[l][c].isMine&&(e[l][c].isMine=!0,r++)}},n.handleTile=function(e,a){if(!n.state.gameOver){var t=Object(i.a)({},n.state.board[e][a]);if(t.isMine)return n.state.board[e][a].setOffMine=!0,n.revealBombs(n.state.board),void n.setState({gameOver:!0});if(!t.isMine){var r=n.state.board.map((function(e){return e.map((function(e){return e}))}));n.revealEmpties(r,e,a),console.log("the new board is ",r),n.setState({board:r});var l=n.getRevealedCount(r);n.state.width*n.state.height-n.state.mines===l&&n.setState({gameOver:!0,gameWon:!0})}}},n.getNeighbors=function(e,a,t){for(var r=[],l=a-1;l<=a+1;l++)if(!(l<0||l>=n.state.height))for(var c=t-1;c<=t+1;c++)if(!(c<0||c>=n.state.width)){var i=e[l][c];i&&r.push(i)}return r},n.revealEmpties=function(e,a,t){var r=e[a][t];if(!r.isMine&&!r.isRevealed){r.isRevealed=!0,r.isFlagged=!1;var l=n.getNeighbors(e,a,t),c=l.filter((function(e){return e.isMine})).length;0===c?l.forEach((function(a){return n.revealEmpties(e,a.row,a.col)})):r.mineCount=c}},n.revealBombs=function(e){e.forEach((function(e){e.forEach((function(e){e.isMine&&(e.isRevealed=!0)}))}))},n.getRevealedCount=function(e){var a=0;return e.forEach((function(e){e.forEach((function(e){e.isRevealed&&a++}))})),a},n.handleNewGame=function(e){var a=n.initBoard(e.width,e.height);n.plantMines(a,e.width,e.height,e.mines),n.setState(Object(i.a)({},e,{board:a,gameOver:!1,gameStarted:!0}))},n.state={board:[],width:9,height:9,mines:9,gameStarted:!1,gameOver:!1,gameWon:!1,showOverlay:!1},n}return Object(m.a)(t,[{key:"render",value:function(){var e=this.state,a=e.board,t=e.gameStarted,n=e.gameOver,l=e.gameWon;return r.a.createElement("section",null,r.a.createElement(y,{handleNewGame:this.handleNewGame}),r.a.createElement(C,{gameStarted:t,gameWon:l,gameOver:n}),r.a.createElement(h,{board:a,handleTile:this.handleTile}))}}]),t}(n.Component);t(44),t(45);var k=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h5",null,"MineSweeper"),r.a.createElement(j,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.a85f0ee3.chunk.js.map